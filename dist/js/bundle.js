!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(0),n(1),n(2);var o=/^[-._a-z0-9]+@(?:[a-z0-9][-a-z0-9]+\.)+[a-z]{2,6}$/i,a=/^[A-Za-z-]/i,r=/^[A-Za-z0-9]/i,c=document.querySelector(".main"),i=document.querySelector(".ls__content-wrapper"),l=document.querySelector(".main__article");function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,c;return t=e,(n=[{key:"onload",value:function(){var e=this;document.querySelector(".login-registration").addEventListener("click",function(t){t.preventDefault(),fetch("./Registration/RegistrationForm.html").then(function(e){return e.text()}).then(function(t){l.innerHTML=t,e.registrateNewUser()})}),console.log(document.documentElement.clientWidth)}},{key:"registrateNewUser",value:function(){var e=document.querySelector(".registration-confirm-button"),t=document.querySelector("#registration-email"),n=document.querySelector("#registration-password"),c=document.querySelector("#registration-name"),i=document.querySelector("#registration-surrname"),l={};e.addEventListener("click",function(e){console.log("hi");var u=!0,s=[t,n,c,i],d=[c,i];o.test(t.value)?(t.classList.remove("wrong-info"),t.removeAttribute("placeholder","Incorrect")):(t.classList.add("wrong-info"),t.setAttribute("placeholder","Incorrect"),u=!1),r.test(n.value)?(n.classList.remove("wrong-info"),n.removeAttribute("placeholder","Incorrect")):(n.classList.add("wrong-info"),n.setAttribute("placeholder","Incorrect"),u=!1),d.forEach(function(e){a.test(e.value)?(e.classList.remove("wrong-info"),e.removeAttribute("placeholder","Incorrect")):(e.classList.add("wrong-info"),e.setAttribute("placeholder","Incorrect"),u=!1)}),s.forEach(function(e){0===e.value.length&&(e.classList.add("wrong-info"),e.setAttribute("placeholder","Incorrect"),u=!1)}),console.log(u),u&&(l.email=t.value,l.password=n.value,l.name=c.value,l.surname=i.value,s.forEach(function(e){e.classList.remove("wrong-info"),e.removeAttribute("placeholder","Incorrect")}));var f=JSON.stringify(l);console.log(f),fetch("http://phonebook.hillel.it/api/users/register",{method:"POST",body:f,headers:{"Content-Type":"application/json"}}).then(function(e){console.log(e)}).catch(function(e){console.log(e)})})}},{key:"regLinkMobile",value:function(){var e=this,t=document.querySelector(".main__left-side"),n=document.querySelector(".login-registration");document.documentElement.clientWidth<=720?n.addEventListener("click",function(n){t.classList.add("hidden"),l.style.display="block",fetch("./Registration/RegistrationForm.html").then(function(e){return e.text()}).then(function(t){l.innerHTML=t,e.registrateNewUser();var n=document.createElement("button");n.classList.add("registration-close-button"),document.querySelector(".main__block-header").appendChild(n);var o=document.querySelector(".main__left-side");n.addEventListener("click",function(e){l.style.display="none",o.classList.remove("hidden")})})}):this.onload()}}])&&u(t.prototype,n),c&&u(t,c),e}();function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,(n=[{key:"onload",value:function(){var e=new P,t=this;document.querySelector(".ls-inner__add-contact__wrapper").addEventListener("click",function(){e.clearMainBlock(),fetch("./AddContact/AddContact.html").then(function(e){return e.text().then(function(e){l.innerHTML=e})}).then(function(){e.mobileOpen(),t.saveContact(),t.cancelSavingInfo()})})}},{key:"saveContact",value:function(){var e=document.querySelector(".add-contact__buttons__save"),t=document.querySelector("#addContact-name"),n=document.querySelector("#addContact-surname"),o=document.querySelector("#addContact-desc"),a=document.querySelector("#addContact-phone"),r=document.querySelector("#addContact-email"),c=document.querySelector("#addContact-birthday"),i=document.querySelector("#addContact-information"),l=(document.querySelector("#addContact-facebook"),document.querySelector("#addContact-instagramm"),[t,n,o,a,r,c,i]),u={};e.addEventListener("click",function(){l.forEach(function(e){e.classList.remove("wrong-info"),0!=e.value.length?(u.name=t.value,u.surname=n.value,u.position=o.value,u.email=["".concat(r.value)],u.phone=[{category:"mobile",value:a.value}],u.bornDate="".concat(c.value),u.information="".concat(i.value)):e.classList.add("wrong-info")});var e=JSON.stringify(u);console.log(e.length),0!=e.length&&fetch("http://phonebook.hillel.it/api/phonebook",{method:"POST",body:e,credentials:"include",mode:"no-cors",headers:{"Content-Type":"application/json"}}).then(function(e){console.log(e),console.log(e.text())}).catch(function(e){console.log(e)})})}},{key:"cancelSavingInfo",value:function(){var e=document.querySelector(".add-contact__buttons__cancel"),t=new P,n=document.querySelector(".main__left-side");e.addEventListener("click",function(){t.clearMainBlock(),document.documentElement.clientWidth<=720&&(n.style.display="block")})}}])&&d(t.prototype,n),o&&d(t,o),e}();function h(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,(n=[{key:"onload",value:function(){fetch("../EditContact/EditContact.html").then(function(e){return e.text()}).then(function(e){l.innerHTML=e})}}])&&h(t.prototype,n),o&&h(t,o),e}();function v(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,(n=[{key:"onload",value:function(){var e=this,t=new P;fetch("../Categories/createCategory.html").then(function(e){return e.text()}).then(function(e){l.innerHTML=e}).then(function(){t.mobileOpen(),e.create()})}},{key:"delete",value:function(e){var t=e.parentElement.getAttribute("data-id");fetch("http://phonebook.hillel.it/api/phonebook/".concat(t),{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"}}).then(function(e){console.log(e.text())})}},{key:"create",value:function(){var e=document.querySelector(".create-group__confirm"),t=document.querySelector(".create-group__value"),n=document.querySelector(".create-group"),o=new E,a={};e.addEventListener("click",function(){a.name=t.value;var r=JSON.stringify(a);fetch("http://phonebook.hillel.it/api/categories",{method:"POST",body:r,credentials:"include",headers:{"Content-Type":"application/json"}}).then(function(o){if(500===o.status){t.classList.add("wrong-info");var a=document.createElement("p");a.classList.add("wrong-text"),a.innerText="Group with this name already existed",n.insertBefore(a,e)}}),o.onload()})}},{key:"createLink2",value:function(){var e=this;document.querySelector(".ls-inner__add-group__wrapper").addEventListener("click",function(){e.onload()})}},{key:"categoryDropDownMenu",value:function(){var e=this,t=document.createElement("div"),n=document.createElement("div"),o=document.createElement("p");return t.classList.add("show"),t.classList.add("drop-down"),n.classList.add("drop-down__items"),o.classList.add("drop-down__items-p"),o.innerText="Delete",n.appendChild(o),t.appendChild(n),t.addEventListener("click",function(e){e.stopPropagation()}),n.addEventListener("click",function(n){e.delete(t),n.stopPropagation()}),t}}])&&v(t.prototype,n),o&&v(t,o),e}();function y(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var b=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,(n=[{key:"showMenu",value:function(){var e=document.querySelector(".all-contacts__items-options"),t=document.querySelector(".all-contacts__items-options__menu"),n=document.querySelector(".all-contacts__items-options__menu-addToGroup"),o=document.querySelector(".main");e.addEventListener("click",function(e){t.classList.add("show"),e.stopPropagation()}),o.addEventListener("click",function(e){t.classList.remove("show"),t.classList.add("hidden"),n.classList.remove("show"),n.classList.add("hidden")})}},{key:"editMenu",value:function(){var e=new m;document.querySelector("#edit-contact").addEventListener("click",function(t){e.onload()})}},{key:"createGroup",value:function(){var e=new p;document.querySelector("#create-group").addEventListener("click",function(t){e.onload()})}},{key:"deleteContact",value:function(){}},{key:"addContactToGroup",value:function(){var e=document.querySelector("#addToGroup"),t=document.querySelector(".all-contacts__items-options__menu-addToGroup");e.addEventListener("click",function(e){e.stopPropagation(),t.classList.add("show")})}}])&&y(t.prototype,n),o&&y(t,o),e}();function g(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var _=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,(n=[{key:"loadAllContacts",value:function(){var e=this,t=new P;fetch("http://phonebook.hillel.it/api/phonebook?",{method:"GET",credentials:"include"}).then(function(e){return e.text()}).then(function(n){var o=JSON.parse(n);t.mobileOpen(),e.showContactsHTML(o)})}},{key:"showContactsMenu",value:function(){var e=this,t=new b;document.querySelector("#all-contacts-button").addEventListener("click",function(){fetch("../AllContacts/AllContacts.html").then(function(e){return e.text()}).then(function(e){l.innerHTML=e}).then(function(){e.loadAllContacts(),t.showMenu(),t.editMenu(),t.createGroup(),t.deleteContact(),t.addContactToGroup(),e.deleteContact()})})}},{key:"showContactsHTML",value:function(e){var t=this,n=document.querySelector(".all-contacts");e.forEach(function(e){var o=document.createElement("div");o.classList.add(".all-contacts__items"),n.appendChild(o),t.informationAboutCurrentContact(e._id)})}},{key:"informationAboutCurrentContact",value:function(e){fetch("http://phonebook.hillel.it/api/phonebook/".concat(e),{method:"GET",credentials:"include"}).then(function(e){return e.text()}).then(function(e){console.log(e)})}},{key:"deleteContact",value:function(){document.querySelector("#delete-contact").addEventListener("click",function(){fetch("http://phonebook.hillel.it/api/phonebook/5c49e22ccea6322f734b1263",{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"}}).then(function(e){console.log(e)})})}}])&&g(t.prototype,n),o&&g(t,o),e}();function k(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var w=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,(n=[{key:"loadCategories",value:function(){var e=this;fetch("http://phonebook.hillel.it/api/categories?",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.text()}).then(function(t){e.addCategories(t)}).catch(function(e){console.log(e)})}},{key:"addCategories",value:function(e){var t=new p,n=JSON.parse(e),o=t.categoryDropDownMenu(),a=document.querySelector(".ls-inner__categories__wrapper");n.forEach(function(e){var t=document.createElement("p");t.classList.add("ls-inner__categories__contacts__header"),t.innerText=e.name;var n=document.createElement("button");n.classList.add("ls-inner__categories__contacts__option");var r=document.createElement("div");r.classList.add("ls-inner__categories__contacts-wrapper"),r.dataset.id=e._id,r.appendChild(t),r.appendChild(n);var c=document.createElement("div");c.classList.add("ls-inner__categories__contacts"),c.appendChild(r),a.appendChild(c),n.addEventListener("click",function(e){e.stopPropagation(),r.appendChild(o),o.classList.remove("hidden")})}),c.addEventListener("click",function(){o.classList.remove("show"),o.classList.add("hidden")})}}])&&k(t.prototype,n),o&&k(t,o),e}();function L(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var S=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,(n=[{key:"showContactIinfo",value:function(e){var t=new P;e.addEventListener("click",function(){fetch("./ContactInfo/ContactInfo.html").then(function(e){return e.text()}).then(function(e){l.innerHTML=e}).then(function(){t.mobileOpen()})})}}])&&L(t.prototype,n),o&&L(t,o),e}();function C(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,(n=[{key:"onload",value:function(){var t=new w,n=new _,o=new e,a=new f,r=new S,c=new p;fetch("./LSideBlock/LSideBlock.html").then(function(e){return e.text().then(function(e){i.innerHTML=e})}).then(function(){var e=document.querySelector(".ls-inner__account__option");a.onload(),o.logOut(),r.showContactIinfo(e),n.showContactsMenu(),t.loadCategories(),c.createLink2()})}},{key:"logOut",value:function(){var e=this,t=new P;document.querySelector(".ls-inner__account__name-logOut-button").addEventListener("click",function(){t.clearMainBlock(),t.onload(),e.logOutMobile()})}},{key:"logOutMobile",value:function(){document.documentElement.clientWidth<=720&&(document.querySelector(".ls__title").style.display="block")}}])&&C(t.prototype,n),o&&C(t,o),e}();function q(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var T=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,(n=[{key:"onload",value:function(){var t=new e,n=new s;fetch("./LoginPage/login.html").then(function(e){return e.text().then(function(e){i.innerHTML=e})}).then(function(){n.regLinkMobile()}).then(function(){t.enterIntoSystem()})}},{key:"enterIntoSystem",value:function(){var e=this,t=new E,n=document.querySelector("#login"),o=document.querySelector("#log-password"),a=document.querySelector(".reg-form-submit"),r=new P,c={};a.addEventListener("click",function(){r.clearMainBlock(),c.email=n.value,c.password=o.value;var a=JSON.stringify(c);fetch("http://phonebook.hillel.it/api/users/login",{method:"POST",body:a,credentials:"include",headers:{"Content-Type":"application/json"}}).then(function(n){t.onload(),e.mobileLogin()}).catch(function(e){console.log(e)})})}},{key:"mobileLogin",value:function(){document.documentElement.clientWidth<=414&&(document.querySelector(".ls__title").style.display="none")}}])&&q(t.prototype,n),o&&q(t,o),e}();function O(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var M,P=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,(n=[{key:"onload",value:function(){(new T).onload()}},{key:"clearMainBlock",value:function(){var e=document.querySelector(".main__article");e.childNodes.forEach(function(t){e.removeChild(t)})}},{key:"mobileOpen",value:function(){var e=this;if(document.documentElement.clientWidth<=720){var t=document.querySelector(".main__left-side"),n=document.querySelector(".main__article");t.style.display="none",n.style.display="block";var o=document.createElement("button"),a=document.querySelector(".main__block-header");o.classList.add("create-group__close-button"),a.appendChild(o),o.addEventListener("click",function(n){t.style.display="block",e.clearMainBlock()})}}},{key:"location",value:function(){var e=new Location;console.log(e)}}])&&O(t.prototype,n),o&&O(t,o),e}();(M=new P).onload(),M.location()}]);